<!DOCTYPE html><html lang=en><head><meta http-equiv=X-UA-Compatible content="IE=edge"><meta charset=UTF-8><title>Turning your application into a web app with STAR</title><meta name=author content="Abhishek Anil Deshmukh"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=../css/bootstrap-grid.min.css><link rel=stylesheet href=../css/style.css><link rel="shortcut icon" href=""><meta name=description content="Converting your python application/script into a web app or a discord bot to run remotely"><meta name=keywords content="web, web app, star, python, api, redis, discord, website, website builder"></head><body><div class=header><div class=container><a class="material-icons heading-home" href=../index.html>home</a><br><span class=heading>Turning your application into a web app with STAR</span><br><p class=date>10 May, 2020</p></div></div><div class=container><div class=row><div class="col-sm-12 col-md-9 col-lg-9"><p>In this world of the internet, there often comes a time that you write a script or a program that needs to be deployed as a website or a web app, doing this without the prior background in the field can be difficult and at times demotivating.</p><p>Presenting to you STAR. With STAR in a few steps you can convert you application into a website or run it from <a href=https://discord.com/ >discord</a>, yes the discord we all love.</p><div class=github-card data-github=abhishek-deshmukh/star data-width=400 data-height=155 data-theme=default></div><p>This is just the web app<br><a class=button href=https://deshmukh.ml/static/STAR_web-v0.0.0.tar.gz>Download STAR web</a></p><p>This is just the discord bot<br><a class=button href=https://deshmukh.ml/static/STAR_bot-v0.0.0.tar.gz>Down STAR bot</a></p><p>This has both the web app and the bot<br><a class=button href=https://deshmukh.ml/static/STAR-v0.0.0.tar.gz>DOwnload STAR complete</a></p><p>Once you have downloaded the tar.gz extract it into a folder</p><div class=code>$ tar xvzf &lt;filename&gt;.tar.gz</div><p>Your direcory structure will look something like this</p><div class="code dir">.<br>&boxvr;&boxh;&boxh; deploy.sh<br>&boxvr;&boxh;&boxh; main.py<br>&boxvr;&boxh;&boxh; .env<br>&boxvr;&boxh;&boxh; requirements.txt<br>&boxvr;&boxh;&boxh; STAR_api.py<br>&boxvr;&boxh;&boxh; STAR_bot.py<br>&boxvr;&boxh;&boxh; STAR_website<br>&boxv;&nbsp;&nbsp; &boxvr;&boxh;&boxh; css<br>&boxv;&nbsp;&nbsp; &boxvr;&boxh;&boxh; favicon.ico<br>&boxv;&nbsp;&nbsp; &boxvr;&boxh;&boxh; index.html<br>&boxv;&nbsp;&nbsp; &boxur;&boxh;&boxh; js<br>&boxur;&boxh;&boxh;STAR_worker.py<br></div><p>We will get back to this</p><p>Next step is installing redis</p><h2>Installing Redis</h2><p>Redis is most probably in your distribution&apos;s package manager</p><div class=code># debian based systems (Ubuntu etc...)<br>$ sudo apt-get install redis<br># Arch based systems (Manjaro etc...)<br>$ sudo pacman -S redis</div><p>If you do not find it in your distribution&apos;s package manager you can always get it from it&apos;s website<a href=http://redis.io/download>http://redis.io</a></p><p>While that is happening lets go to the next step</p><h2>Installing Python dependencies</h2><p>Make sure you are running python3.x</p><p>If you are running some kind of virtual environment now is the time to be in it.</p><div class=code>$ pip install -r requirements.txt</div><p>That will install all the requirements.</p><h2>Bot specific steps</h2><p>If you have are planning on using the bot you need to get a api_key from discord for you bot it&apos;s pretty simple.</p><p><a href=3.html>How to make a discord bot</a>. This post explains step by step how to get an api key for your discord bot.</p><p></p><p>Once you have the api key put it in the<span class=code>.env</span> file</p><h2>Putting your code in</h2><p>We are one step away from deployment</p><p>if you open up the main.py file you will find this</p><div class=code># main.py<br>def main():<br><tab>return &quot;something&quot;</tab></div><p>This is where you drop the code you want to run</p><p>You can put multiple functions in the file, main can call other functions or files, basically any valid python3.x function will work.</p><p>Once you put in the code lets get to the tricky part, say you are writing a monte carlo simulation to calculate the ratio of are under the inside a quarter of the circle and the square</p><p>Do not worry if you do not understand the math, this is about the parameters and the functions. Your code will look something like this.</p><div class=code>from numpy.random import uniform<br>from sympy.parsing.sympy_parser<br>import eval_expr<br>import numpy<br><br>NUMPY_DICT = {a: getattr(numpy, a) for a in dir(numpy)}<br><br>def main(f, a, b, c, d, size):<br><tab>&quot;&quot;&quot;Monte Carlo simulation&quot;&quot;&quot;</tab><br><tab>xs = uniform(a, b, size)</tab><br><tab>ys = uniform(c, d, size)</tab><br><tab>area = (a - b) * (c - d)</tab><br><tab>under = ys &lt; eval_exp{&quot;xs&quot;: xs}, NUMPY_DICT)</tab><br><tab>ratio = sum(under) / size * area</tab><br><tab>return ratio</tab><br></div><p>Now we will be using type annotation on our main function&apos;s parameters. Which basically means that we will write the type of the parameters in front of the paramter like so.</p><div class=code>def main(f: string, a: float, b: float, c: float, d: float, size: int):</div><p>and we are done, now to deployment</p><h2>Deployment</h2><p>Open up a terminal and go in the folder where the file was extracted and run the<span class=code>deploy.sh</span> bash script</p><div class=code>$ ./deploy.sh</div><p>If everything goes right and you have some luck on your side you will see a stream of text flowing ignore it. In about 10 seconds that will have been deployed.</p><p>If you are running the web app it will be hosted at<span class=code><a href=http://localhost:8000/ >http://localhost:8000/</a></span></p><p>If you downloaded the bot as well then open up discord and your server and type in<span class=code>help</span> it will guide you through the commands on how to use it.</p></div><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/dunce07><img src=https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px;font-size:28px!important>Buy me a coffee</span></a></div></div><script src=../js/latex.js></script><script src=../js/github-cards.js></script><script src=../js/main.js></script><footer>Made with love by <a href=https://abhishek-deshmukh.ml target=_blank>Abhishek Anil Deshmukh</a></footer></body></html>